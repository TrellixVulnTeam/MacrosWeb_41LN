{"version":3,"sources":["webpack:///src/app/pages/login/login.component.ts","webpack:///src/app/pages/login/login.component.html","webpack:///src/app/pages/login/login.module.ts","webpack:///src/app/pages/login/login-routing.module.ts"],"names":["LoginComponent","_legalizacionService","formBuilder","_router","form","group","user","required","password","userName","controls","value","displayLoading","login","subscribe","responde","console","log","code","localStorage","setItem","data","decoded","role","navigate","errorText","error","LoginModule","routes","path","component","LoginRoutingModule","forChild"],"mappings":"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","file":"pages-login-login-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AppComponent } from 'src/app/app.component';\nimport { LegalizacionService } from 'src/app/services/legalizacion.service';\nimport jwt_decode from \"jwt-decode\";\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  form: FormGroup;\n  errorText: any;\n\n  constructor(\n    private _legalizacionService: LegalizacionService,\n    private formBuilder: FormBuilder,\n    private _router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.form = this.formBuilder.group(\n      {\n        user: ['', Validators.required],\n        password: ['', Validators.required],\n      }\n    );\n  }\n\n  login() {\n    let userName = this.form.controls['user'].value;\n    let password = this.form.controls['password'].value;\n\n    AppComponent.displayLoading = true;\n    this._legalizacionService.login(userName, password)\n      .subscribe(\n        (responde: any) => {\n          console.log('responde', responde);\n          if (responde.code == '0') {\n            localStorage.setItem('token', responde.data);\n            var decoded: any = jwt_decode(responde.data);\n            localStorage.setItem('role', decoded.role);\n            this._router.navigate(['/dashboard']);\n          } else {\n            this.errorText = \"Credenciales incorrectas\";\n          }\n          AppComponent.displayLoading = false;\n        }, error => {\n          console.log('error', error);\n          this.errorText = \"Credenciales incorrectas\";\n          AppComponent.displayLoading = false;\n        }\n      )\n  }\n\n}\n","<section class=\"main-container\">\n    <div class=\"container\">\n        <input type=\"checkbox\" id=\"flip\">\n        <div class=\"cover\">\n            <div class=\"front\">\n                <img src=\"./assets/img/login.png\" alt=\"\">\n                <!-- <div class=\"text\">\n                    <span class=\"text-1\">Every new friend is a <br> new adventure</span>\n                    <span class=\"text-2\">Let's get connected</span>\n                </div> -->\n            </div>\n        </div>\n        <div class=\"forms\">\n            <div class=\"form-content\">\n                <div class=\"login-form\">\n                    <div class=\"title\">Iniciar Sesion</div>\n                    <form [formGroup]=\"form\" (ngSubmit)=\"login()\">\n                        <div class=\"input-boxes\">\n                            <span class=\"errorText\">{{errorText}}</span>\n                            <mat-form-field appearance=\"fill\" class=\"loginInput\">\n                                <mat-label>Usuario</mat-label>\n                                <input matInput type=\"text\" placeholder=\"Usuario\" formControlName=\"user\" required>\n                                <mat-error *ngIf=\"form.get('user').hasError('required')\">Por favor ingrese un nombre de usuario</mat-error>\n                            </mat-form-field>\n                            <mat-form-field appearance=\"fill\" class=\"loginInput\">\n                                <mat-label>Contraseña</mat-label>\n                                <input matInput type=\"password\" placeholder=\"Contraseña\" formControlName=\"password\" required>\n                                <mat-error *ngIf=\"form.get('password').hasError('required')\">Por favor ingrese su contraseña</mat-error>\n                            </mat-form-field>\n                            <div class=\"button input-box\">\n                                <button type=\"submit\" mat-raised-button [disabled]=\"!form.valid\">Entrar</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { LoginComponent } from './login.component';\nimport { LoginRoutingModule } from './login-routing.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { LegalizacionService } from 'src/app/services/legalizacion.service';\nimport { HttpClientModule } from '@angular/common/http';\n\n\n@NgModule({\n  declarations: [\n    LoginComponent\n  ],\n  imports: [\n    CommonModule,\n    LoginRoutingModule,\n    SharedModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatButtonModule,\n    HttpClientModule\n  ],\n  providers:[\n    LegalizacionService\n  ]\n})\nexport class LoginModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginRoutingModule { }\n"]}