{"version":3,"sources":["webpack:///src/app/pages/audit/audit-routing.module.ts","webpack:///src/app/pages/audit/audit.component.ts","webpack:///src/app/pages/audit/audit.component.html","webpack:///src/app/pages/audit/audit.module.ts"],"names":["routes","path","component","AuditRoutingModule","forChild","AuditComponent","_legalizacionService","displayedColumns","dataSource","today","Date","month","getMonth","year","getFullYear","campaignOne","start","end","herramienta","usuario","paginator","sort","getAudit","controls","value","startTime","endTime","toISOString","slice","console","log","String","trim","displayLoading","subscribe","response","data","err","searchAudit","AuditModule"],"mappings":";;;;;;;;;;;;;;;;;;;;AACA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAIA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,kB;;;;;yBAAAA,kB;AAAkB,O;;;cAAlBA;;;kBAHF,CAAC,6DAAaC,QAAb,CAAsBJ,MAAtB,CAAD,C,EACC,4D;;;;4HAECG,kB,EAAkB;AAAA;AAAA,oBAFnB,4DAEmB;AAAA,S;AAFP,O;;;;;;;;;;;;;;;;;ACbxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AC8Bc;;AAAuD;;AAAG;;;;;;AAC1D;;AAAoC;;AAAe;;;;;;AAAf;;AAAA;;;;;;AAKpC;;AAAuD;;AAAY;;;;;;AACnE;;AAAoC;;AAAoB;;;;;;AAApB;;AAAA;;;;;;AAKpC;;AAAuD;;AAAM;;;;;;AAC7D;;AAAoC;;AAAc;;;;;;AAAd;;AAAA;;;;;;AAKpC;;AAAuD;;AAAa;;;;;;AAChC;;AAAyC;;AAAoB;;;;;;AAApB;;AAAA;;;;;;AAC3E;;;;;;AADF;;AAAoC;;AAClC;;AACF;;;;;;AAF2C;;AAAA;;AAClC;;AAAA;;;;;;AAMT;;AAAuD;;AAAe;;;;;;AAClC;;AACK;;AAAsB;;;;;;AAAtB;;AAAA;;;;;;AACvC;;;;;;AAFF;;AAAoC;;AAElC;;AACF;;;;;;AAFK;;AAAA;;AACI;;AAAA;;;;;;AAMT;;AAAuD;;AAAQ;;;;;;AAC/D;;AAAoC;;AAAgB;;;;;;AAAhB;;AAAA;;;;;;AAMpC;;AAAuD;;AAAmB;;;;;;AAC1E;;AAAoC;;;;AAAwD;;;;;;AAAxD;;AAAA;;;;;;AAGtC;;;;;;AACA;;;;;;;;UDjECE,c;AAUX,gCACUC,oBADV,EACmD;AAAA;;AAAzC,eAAAA,oBAAA,GAAAA,oBAAA;AATV,eAAAC,gBAAA,GAA6B,CAAC,oBAAD,EAAuB,QAAvB,EAAiC,aAAjC,EAAgD,OAAhD,EAAyD,gBAAzD,EAA2E,cAA3E,EAA2F,SAA3F,CAA7B;AACA,eAAAC,UAAA,GAAa,IAAI,0EAAJ,EAAb;AAUE,cAAMC,KAAK,GAAG,IAAIC,IAAJ,EAAd;AACA,cAAMC,KAAK,GAAGF,KAAK,CAACG,QAAN,EAAd;AACA,cAAMC,IAAI,GAAGJ,KAAK,CAACK,WAAN,EAAb;AAEA,eAAKC,WAAL,GAAmB,IAAI,wDAAJ,CAAc;AAC/BC,iBAAK,EAAE,IAAI,0DAAJ,CAAgB,IAAIN,IAAJ,EAAhB,CADwB;AAE/BO,eAAG,EAAE,IAAI,0DAAJ,CAAgB,IAAIP,IAAJ,EAAhB,CAF0B;AAG/BQ,uBAAW,EAAE,IAAI,0DAAJ,EAHkB;AAI/BC,mBAAO,EAAE,IAAI,0DAAJ;AAJsB,WAAd,CAAnB;AAMD;;;;iBAED,oBAAQ;AACN,iBAAKX,UAAL,CAAgBY,SAAhB,GAA4B,KAAKA,SAAjC;AACA,iBAAKZ,UAAL,CAAgBa,IAAhB,GAAuB,KAAKA,IAA5B;AACA,iBAAKC,QAAL,CAAc,KAAKP,WAAL,CAAiBQ,QAAjB,CAA0B,OAA1B,EAAmCC,KAAjD,EAAwD,KAAKT,WAAL,CAAiBQ,QAAjB,CAA0B,KAA1B,EAAiCC,KAAzF,EACE,KAAKT,WAAL,CAAiBQ,QAAjB,CAA0B,aAA1B,EAAyCC,KAD3C,EACkD,KAAKT,WAAL,CAAiBQ,QAAjB,CAA0B,SAA1B,EAAqCC,KADvF;AAED;;;iBAED,kBAASC,SAAT,EAAyBC,OAAzB,EAAuCR,WAAvC,EAAyDC,OAAzD,EAAuE;AAAA;;AACrEM,qBAAS,GAAG,IAAIf,IAAJ,CAASe,SAAT,EAAoBE,WAApB,GAAkCC,KAAlC,CAAwC,CAAxC,EAA2C,EAA3C,CAAZ;AACAF,mBAAO,GAAG,IAAIhB,IAAJ,CAASgB,OAAT,EAAkBC,WAAlB,GAAgCC,KAAhC,CAAsC,CAAtC,EAAyC,EAAzC,CAAV;AACAC,mBAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBL,SAAzB;AACAI,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBJ,OAAvB;AAIAR,uBAAW,GAAGA,WAAW,IAAI,IAAf,IAAuBA,WAAW,IAAI,EAAtC,IAA6CA,WAAW,IAAI,IAAf,IAAuBa,MAAM,CAACb,WAAD,CAAN,CAAoBc,IAApB,MAA8B,EAAlG,IAAyGd,WAAW,IAAI,gBAAxH,GAA2I,IAA3I,GAAkJA,WAAhK;AACAC,mBAAO,GAAGA,OAAO,IAAI,IAAX,IAAmBA,OAAO,IAAI,EAA9B,IAAqCA,OAAO,IAAI,IAAX,IAAmBY,MAAM,CAACZ,OAAD,CAAN,CAAgBa,IAAhB,MAA0B,EAAlF,IAAyFb,OAAO,IAAI,gBAApG,GAAuH,IAAvH,GAA8HA,OAAxI;AAEAU,mBAAO,CAACC,GAAR,CAAYZ,WAAZ;AACAW,mBAAO,CAACC,GAAR,CAAYX,OAAZ;AAEA,+EAAac,cAAb,GAA8B,IAA9B;;AACA,iBAAK3B,oBAAL,CAA0BgB,QAA1B,CAAmCG,SAAnC,EAA8CC,OAA9C,EAAuDR,WAAvD,EAAoEC,OAApE,EACGe,SADH,CAEI,UAACC,QAAD,EAAmB;AACjB,iFAAaF,cAAb,GAA8B,KAA9B;AACAJ,qBAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBK,QAAxB;AACA,mBAAI,CAAC3B,UAAL,GAAkB,IAAI,0EAAJ,CAA4B2B,QAAQ,CAACC,IAArC,CAAlB;AACA,mBAAI,CAAC5B,UAAL,CAAgBY,SAAhB,GAA4B,KAAI,CAACA,SAAjC;AACA,mBAAI,CAACZ,UAAL,CAAgBa,IAAhB,GAAuB,KAAI,CAACA,IAA5B;AACD,aARL,EAQO,UAAAgB,GAAG,EAAI;AACR,iFAAaJ,cAAb,GAA8B,KAA9B;AACD,aAVL;AAYD;;;iBACD,uBAAc;AACZ,iBAAKX,QAAL,CAAc,KAAKP,WAAL,CAAiBQ,QAAjB,CAA0B,OAA1B,EAAmCC,KAAjD,EAAwD,KAAKT,WAAL,CAAiBQ,QAAjB,CAA0B,KAA1B,EAAiCC,KAAzF,EACE,KAAKT,WAAL,CAAiBQ,QAAjB,CAA0B,aAA1B,EAAyCC,KAD3C,EACkD,KAAKT,WAAL,CAAiBQ,QAAjB,CAA0B,SAA1B,EAAqCC,KADvF;AAED;;;;;;;yBA/DUnB,c,EAAc,0J;AAAA,O;;;cAAdA,c;AAAc,kC;AAAA;AAAA;sEAOd,wE,EAAY,C;;sEACZ,8D,EAAO,C;;;;;;;;;;;;;;;ACrBpB;;AACE;;AACE;;AACE;;AAAI;;AAAS;;AACb;;AACE;;AACE;;AACE;;AAAW;;AAAc;;AACzB;;AACE;;AACA;;AACF;;AACA;;AACA;;AACF;;AACA;;AACE;;AAAW;;AAAW;;AACtB;;AACF;;AACA;;AACE;;AAAW;;AAAO;;AAClB;;AACF;;AACA;;AAAwD;AAAA,qBAAS,IAAAiC,WAAA,EAAT;AAAsB,aAAtB;;AAAwB;;AAAM;;AACxF;;AAEA;;AACE;;AAGE;;AACE;;AACA;;AACF;;AAGA;;AACE;;AACA;;AACF;;AAGA;;AACE;;AACA;;AACF;;AAGA;;AACE;;AACA;;AAGF;;AAGA;;AACE;;AACA;;AAIF;;AAGA;;AACE;;AACA;;AACF;;AAIA;;AACE;;AACA;;AACF;;AAEA;;AACA;;AAMF;;AACF;;AAEA;;AACF;;AAEF;;AACF;;AAEF;;;;;;AAxFwC;;AAAA;;AAGN;;AAAA;;AAIW;;AAAA;;AAelB;;AAAA;;AAkDK;;AAAA;;AACa;;AAAA;;AAStB;;AAAA;;;;;;;;;;;;;;;;;;;;;;ACtFvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAyCaC,W;;;;;yBAAAA,W;AAAW,O;;;cAAXA;;;mBAJA,CACT,yFADS,C;AAEV,kBAlBQ,CACP,4DADO,EAEP,wEAFO,EAGP,oEAHO,EAIP,yEAJO,EAKP,sEALO,EAMP,8EANO,EAOP,qEAPO,EAQP,gFARO,EASP,gFATO,EAUP,2DAVO,EAWP,mEAXO,EAYP,yEAZO,EAaP,qEAbO,EAcP,uEAdO,CAkBR;;;;6HAEUA,W,EAAW;AAAA,yBAtBpB,+DAsBoB;AAtBN,oBAGd,4DAHc,EAId,wEAJc,EAKd,oEALc,EAMd,yEANc,EAOd,sEAPc,EAQd,8EARc,EASd,qEATc,EAUd,gFAVc,EAWd,gFAXc,EAYd,2DAZc,EAad,mEAbc,EAcd,yEAdc,EAed,qEAfc,EAgBd,uEAhBc;AAsBM,S;AANN,O","file":"pages-audit-audit-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuditComponent } from './audit.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuditComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuditRoutingModule { }\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { AppComponent } from 'src/app/app.component';\nimport { LegalizacionService } from 'src/app/services/legalizacion.service';\n\n@Component({\n  selector: 'app-audit',\n  templateUrl: './audit.component.html',\n  styleUrls: ['./audit.component.scss']\n})\nexport class AuditComponent implements OnInit {\n\n  displayedColumns: string[] = ['fecha_modificacion', 'UNI_ID', 'herramienta', 'campo', 'valor_anterior', 'valor_actual', 'usuario'];\n  dataSource = new MatTableDataSource<any>();\n\n  campaignOne: FormGroup;\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(\n    private _legalizacionService: LegalizacionService\n  ) {\n    const today = new Date();\n    const month = today.getMonth();\n    const year = today.getFullYear();\n\n    this.campaignOne = new FormGroup({\n      start: new FormControl(new Date()),\n      end: new FormControl(new Date()),\n      herramienta: new FormControl(),\n      usuario: new FormControl(),\n    });\n  }\n\n  ngOnInit(): void {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n    this.getAudit(this.campaignOne.controls['start'].value, this.campaignOne.controls['end'].value,\n      this.campaignOne.controls['herramienta'].value, this.campaignOne.controls['usuario'].value);\n  }\n\n  getAudit(startTime: any, endTime: any, herramienta: any, usuario: any) {\n    startTime = new Date(startTime).toISOString().slice(0, 10);\n    endTime = new Date(endTime).toISOString().slice(0, 10);\n    console.log('startTime', startTime);\n    console.log('endTime', endTime);\n\n\n\n    herramienta = herramienta == null || herramienta == '' || (herramienta != null && String(herramienta).trim() == '') || herramienta == '<empty string>' ? null : herramienta;\n    usuario = usuario == null || usuario == '' || (usuario != null && String(usuario).trim() == '') || usuario == '<empty string>' ? null : usuario;\n\n    console.log(herramienta);\n    console.log(usuario);\n\n    AppComponent.displayLoading = true;\n    this._legalizacionService.getAudit(startTime, endTime, herramienta, usuario)\n      .subscribe(\n        (response: any) => {\n          AppComponent.displayLoading = false;\n          console.log('response', response);\n          this.dataSource = new MatTableDataSource<any>(response.data);\n          this.dataSource.paginator = this.paginator;\n          this.dataSource.sort = this.sort;\n        }, err => {\n          AppComponent.displayLoading = false;\n        }\n      )\n  }\n  searchAudit() {\n    this.getAudit(this.campaignOne.controls['start'].value, this.campaignOne.controls['end'].value,\n      this.campaignOne.controls['herramienta'].value, this.campaignOne.controls['usuario'].value);\n  }\n}\n\n","<app-layout>\n  <section class=\"content-panel\">\n    <mat-card>\n      <h1>Auditoria</h1>\n      <div class=\"mat-elevation-z8\">\n        <form class=\"inputControlPanel\" [formGroup]=\"campaignOne\">\n          <mat-form-field class=\"example-form-field\" appearance=\"fill\">\n            <mat-label>First campaign</mat-label>\n            <mat-date-range-input [rangePicker]=\"campaignOnePicker\">\n              <input matStartDate placeholder=\"Start date\" formControlName=\"start\">\n              <input matEndDate placeholder=\"End date\" formControlName=\"end\">\n            </mat-date-range-input>\n            <mat-datepicker-toggle matSuffix [for]=\"campaignOnePicker\"></mat-datepicker-toggle>\n            <mat-date-range-picker #campaignOnePicker></mat-date-range-picker>\n          </mat-form-field>\n          <mat-form-field appearance=\"fill\">\n            <mat-label>Herramienta</mat-label>\n            <input matInput formControlName=\"herramienta\">\n          </mat-form-field>\n          <mat-form-field appearance=\"fill\">\n            <mat-label>Usuario</mat-label>\n            <input matInput formControlName=\"usuario\">\n          </mat-form-field>\n          <button mat-raised-button type=\"button\" color=\"primary\" (click)=\"searchAudit()\">Buscar</button>\n        </form>\n\n        <div class=\"mat-elevation-z8\">\n          <table mat-table [dataSource]=\"dataSource\" matSort>\n\n            <!-- ID Column -->\n            <ng-container matColumnDef=\"UNI_ID\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>\n              <td mat-cell *matCellDef=\"let row\"> {{row.UNI_ID}} </td>\n            </ng-container>\n\n            <!-- Progress Column -->\n            <ng-container matColumnDef=\"herramienta\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Herramienta </th>\n              <td mat-cell *matCellDef=\"let row\"> {{row.herramienta}} </td>\n            </ng-container>\n\n            <!-- Progress Column -->\n            <ng-container matColumnDef=\"campo\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Campo </th>\n              <td mat-cell *matCellDef=\"let row\"> {{row.campo}} </td>\n            </ng-container>\n\n            <!-- Name Column -->\n            <ng-container matColumnDef=\"valor_actual\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Valor Actual </th>\n              <td mat-cell *matCellDef=\"let row\"> <span *ngIf=\"row.valor_actual != 'null'\">{{row.valor_actual}}</span>\n                <span *ngIf=\"row.valor_actual == 'null'\"></span>\n              </td>\n            </ng-container>\n\n            <!-- Name Column -->\n            <ng-container matColumnDef=\"valor_anterior\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Valor Anterior </th>\n              <td mat-cell *matCellDef=\"let row\"> <span\n                  *ngIf=\"row.valor_anterior != 'null'\">{{row.valor_anterior}}</span>\n                <span *ngIf=\"row.valor_anterior == 'null'\"></span>\n              </td>\n            </ng-container>\n\n\n            <ng-container matColumnDef=\"usuario\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Usuario </th>\n              <td mat-cell *matCellDef=\"let row\"> {{row.usuario}} </td>\n            </ng-container>\n\n\n            <!-- ID Column -->\n            <ng-container matColumnDef=\"fecha_modificacion\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha Modificacion </th>\n              <td mat-cell *matCellDef=\"let row\"> {{row.fecha_modificacion | date:'dd-MM-yyyy hh:mm:ss'}} </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n\n            <!-- Row shown when there is no matching data. -->\n            <!-- <tr class=\"mat-row\" *matNoDataRow>\n              <td class=\"mat-cell\" colspan=\"4\">No data matching the filter \"{{input.value}}\"</td>\n            </tr> -->\n          </table>\n        </div>\n\n        <mat-paginator [pageSizeOptions]=\"[25, 50, 100, 200]\" aria-label=\"Select page of users\"></mat-paginator>\n      </div>\n\n    </mat-card>\n  </section>\n\n</app-layout>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AuditComponent } from './audit.component';\nimport { AuditRoutingModule } from './audit-routing.module';\nimport { MatCardModule } from '@angular/material/card';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { LegalizacionService } from 'src/app/services/legalizacion.service';\nimport { HttpClientModule } from '@angular/common/http';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatInputModule } from '@angular/material/input';\n\n\n@NgModule({\n  declarations: [\n    AuditComponent\n  ],\n  imports: [\n    CommonModule,\n    AuditRoutingModule,\n    MatCardModule,\n    SharedModule,\n    MatTableModule,\n    MatPaginatorModule,\n    HttpClientModule,\n    MatDatepickerModule,\n    MatFormFieldModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatButtonModule,\n    MatSortModule,\n    MatInputModule\n  ],\n  providers: [\n    LegalizacionService\n  ]\n})\nexport class AuditModule { }\n"]}