{"version":3,"sources":["./src/app/pages/audit/audit-routing.module.ts","./src/app/pages/audit/audit.component.ts","./src/app/pages/audit/audit.component.html","./src/app/pages/audit/audit.module.ts"],"names":[],"mappings":"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","file":"pages-audit-audit-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuditComponent } from './audit.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuditComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuditRoutingModule { }\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { AppComponent } from 'src/app/app.component';\nimport { LegalizacionService } from 'src/app/services/legalizacion.service';\n\n@Component({\n  selector: 'app-audit',\n  templateUrl: './audit.component.html',\n  styleUrls: ['./audit.component.scss']\n})\nexport class AuditComponent implements OnInit {\n\n  displayedColumns: string[] = ['fecha_modificacion', 'UNI_ID', 'herramienta', 'campo', 'valor_anterior', 'valor_actual', 'usuario'];\n  dataSource = new MatTableDataSource<any>();\n\n  campaignOne: FormGroup;\n\n\n  \n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(\n    private _legalizacionService: LegalizacionService\n  ) {\n    const today = new Date();\n    const month = today.getMonth();\n    const year = today.getFullYear();\n\n    this.campaignOne = new FormGroup({\n      start: new FormControl(new Date()),\n      end: new FormControl(new Date()),\n      herramienta: new FormControl(),\n      usuario: new FormControl(),\n    });\n  }\n\n  ngOnInit(): void {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n    this.getAudit(this.campaignOne.controls['start'].value, this.campaignOne.controls['end'].value,\n      this.campaignOne.controls['herramienta'].value, this.campaignOne.controls['usuario'].value);\n  }\n\n  getAudit(startTime: any, endTime: any, herramienta: any, usuario: any) {\n    startTime = new Date(startTime).toISOString().slice(0, 10);\n    endTime = new Date(endTime).toISOString().slice(0, 10);\n    console.log('startTime', startTime);\n    console.log('endTime', endTime);\n\n\n\n    herramienta = herramienta == null || herramienta == '' || (herramienta != null && String(herramienta).trim() == '') || herramienta == '<empty string>' ? null : herramienta;\n    usuario = usuario == null || usuario == '' || (usuario != null && String(usuario).trim() == '') || usuario == '<empty string>' ? null : usuario;\n\n    console.log(herramienta);\n    console.log(usuario);\n\n    AppComponent.displayLoading = true;\n    this._legalizacionService.getAudit(startTime, endTime, herramienta, usuario)\n      .subscribe(\n        (response: any) => {\n          AppComponent.displayLoading = false;\n          console.log('response', response);\n          this.dataSource = new MatTableDataSource<any>(response.data);\n          this.dataSource.paginator = this.paginator;\n          this.dataSource.sort = this.sort;\n        }, err => {\n          AppComponent.displayLoading = false;\n        }\n      )\n  }\n  searchAudit() {\n    this.getAudit(this.campaignOne.controls['start'].value, this.campaignOne.controls['end'].value,\n      this.campaignOne.controls['herramienta'].value, this.campaignOne.controls['usuario'].value);\n  }\n}\n\n","<app-layout>\n  <section class=\"content-panel\">\n    <mat-card>\n      <h1>Auditoria</h1>\n      <div class=\"mat-elevation-z8\">\n        <form class=\"inputControlPanel\" [formGroup]=\"campaignOne\">\n          <mat-form-field class=\"example-form-field\" appearance=\"fill\">\n            <mat-label>First campaign</mat-label>\n            <mat-date-range-input [rangePicker]=\"campaignOnePicker\">\n              <input matStartDate placeholder=\"Start date\" formControlName=\"start\">\n              <input matEndDate placeholder=\"End date\" formControlName=\"end\">\n            </mat-date-range-input>\n            <mat-datepicker-toggle matSuffix [for]=\"campaignOnePicker\"></mat-datepicker-toggle>\n            <mat-date-range-picker #campaignOnePicker></mat-date-range-picker>\n          </mat-form-field>\n          <mat-form-field appearance=\"fill\">\n            <mat-label>Herramienta</mat-label>\n            <input matInput formControlName=\"herramienta\">\n          </mat-form-field>\n          <mat-form-field appearance=\"fill\">\n            <mat-label>Usuario</mat-label>\n            <input matInput formControlName=\"usuario\">\n          </mat-form-field>\n          <button mat-raised-button type=\"button\" color=\"primary\" (click)=\"searchAudit()\">Buscar</button>\n        </form>\n\n        <div class=\"mat-elevation-z8\">\n          <table mat-table [dataSource]=\"dataSource\" matSort>\n\n            <!-- ID Column -->\n            <ng-container matColumnDef=\"UNI_ID\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>\n              <td mat-cell *matCellDef=\"let row\"> {{row.UNI_ID}} </td>\n            </ng-container>\n\n            <!-- Progress Column -->\n            <ng-container matColumnDef=\"herramienta\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Herramienta </th>\n              <td mat-cell *matCellDef=\"let row\"> {{row.herramienta}} </td>\n            </ng-container>\n\n            <!-- Progress Column -->\n            <ng-container matColumnDef=\"campo\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Campo </th>\n              <td mat-cell *matCellDef=\"let row\"> {{row.campo}} </td>\n            </ng-container>\n\n            <!-- Name Column -->\n            <ng-container matColumnDef=\"valor_actual\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Valor Actual </th>\n              <td mat-cell *matCellDef=\"let row\"> <span *ngIf=\"row.valor_actual != 'null'\">{{row.valor_actual}}</span>\n                <span *ngIf=\"row.valor_actual == 'null'\"></span>\n              </td>\n            </ng-container>\n\n            <!-- Name Column -->\n            <ng-container matColumnDef=\"valor_anterior\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Valor Anterior </th>\n              <td mat-cell *matCellDef=\"let row\"> <span\n                  *ngIf=\"row.valor_anterior != 'null'\">{{row.valor_anterior}}</span>\n                <span *ngIf=\"row.valor_anterior == 'null'\"></span>\n              </td>\n            </ng-container>\n\n\n            <ng-container matColumnDef=\"usuario\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Usuario </th>\n              <td mat-cell *matCellDef=\"let row\"> {{row.usuario}} </td>\n            </ng-container>\n\n\n            <!-- ID Column -->\n            <ng-container matColumnDef=\"fecha_modificacion\">\n              <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha Modificacion </th>\n              <td mat-cell *matCellDef=\"let row\"> {{row.fecha_modificacion | date:'dd-MM-yyyy hh:mm:ss'}} </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n\n            <!-- Row shown when there is no matching data. -->\n            <!-- <tr class=\"mat-row\" *matNoDataRow>\n              <td class=\"mat-cell\" colspan=\"4\">No data matching the filter \"{{input.value}}\"</td>\n            </tr> -->\n          </table>\n        </div>\n\n        <mat-paginator [pageSizeOptions]=\"[25, 50, 100, 200]\" aria-label=\"Select page of users\"></mat-paginator>\n      </div>\n\n    </mat-card>\n  </section>\n\n</app-layout>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AuditComponent } from './audit.component';\nimport { AuditRoutingModule } from './audit-routing.module';\nimport { MatCardModule } from '@angular/material/card';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { LegalizacionService } from 'src/app/services/legalizacion.service';\nimport { HttpClientModule } from '@angular/common/http';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatInputModule } from '@angular/material/input';\n\n\n@NgModule({\n  declarations: [\n    AuditComponent\n  ],\n  imports: [\n    CommonModule,\n    AuditRoutingModule,\n    MatCardModule,\n    SharedModule,\n    MatTableModule,\n    MatPaginatorModule,\n    HttpClientModule,\n    MatDatepickerModule,\n    MatFormFieldModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatButtonModule,\n    MatSortModule,\n    MatInputModule\n  ],\n  providers: [\n    LegalizacionService\n  ]\n})\nexport class AuditModule { }\n"],"sourceRoot":"webpack:///"}