{"version":3,"sources":["./src/app/pages/project-settings/project-settings.component.ts","./src/app/pages/project-settings/project-settings.component.html","./src/app/pages/project-settings/project-settings-routing.module.ts","./src/app/pages/project-settings/project-settings.module.ts"],"names":[],"mappings":"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","file":"pages-project-settings-project-settings-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AppComponent } from 'src/app/app.component';\nimport { LegalizacionService } from 'src/app/services/legalizacion.service';\n\n@Component({\n  selector: 'app-project-settings',\n  templateUrl: './project-settings.component.html',\n  styleUrls: ['./project-settings.component.scss']\n})\nexport class ProjectSettingsComponent implements OnInit {\n\n  selectedProject: any;\n  projectList: any = [];\n  originalProjectList: any = [];\n  total: number = 0;\n  totalActive: number = 0;\n\n  selectedOptions: any;\n\n  projectActive = [];\n\n  searchText: any;\n\n  constructor(\n    private _legalizacionService: LegalizacionService\n  ) { }\n\n  ngOnInit(): void {\n    AppComponent.displayLoading = true;\n    this._legalizacionService.getProjectSettings()\n      .subscribe(\n        (response: any) => {\n          console.log(response);\n          this.projectList = response.data;\n          this.originalProjectList = response.data;\n\n          this.total = this.projectList.length;\n          for (let index = 0; index < this.projectList.length; index++) {\n            const element: any = this.projectList[index];\n            if (element.STATUS) {\n              this.projectActive.push(element);\n            }\n          }\n          this.totalActive = this.projectActive.length;\n\n\n          this.selectedOptions = this.projectActive;\n          AppComponent.displayLoading = false;\n        }, err => {\n          console.log(err);\n          AppComponent.displayLoading = false;\n        }\n      )\n  }\n\n  onFilter(evt) {\n    this.projectActive = [];\n    console.log('evt', evt);\n    this.projectList = this.originalProjectList.filter(item => String(item.PRY_Nombre).toLowerCase().includes(String(evt).toLowerCase()));\n    for (let index = 0; index < this.projectList.length; index++) {\n      const element: any = this.projectList[index];\n      if (element.STATUS) {\n        this.projectActive.push(element);\n      }\n    }\n    console.log('this.projectActive', this.projectActive);\n    this.selectedOptions = this.projectActive;\n\n\n  }\n\n  async onNgModelChange(evt) {\n    // console.log('onNgModelChange', evt);\n\n    AppComponent.displayLoading = true;\n    evt.STATUS = !evt.STATUS;\n    console.log('onNgModelChange2', evt);\n    await this._legalizacionService.updateProject(evt.PRY_ID, evt.PRY_Nombre, evt.STATUS ? 1 : 2).toPromise();\n    AppComponent.displayLoading = false;\n\n    // console.log(this.projectActive.length + ' - ' + evt.length);\n    // if (this.projectActive.length < evt.length) {\n    //   let difference = evt.filter(x => !this.projectActive.includes(x));\n    //   difference = difference[0];\n    //   console.log(difference);\n    //   this.projectActive.push(difference);\n\n    //   await this._legalizacionService.updateProject(difference.PRY_ID, difference.PRY_Nombre, 1).toPromise();\n    // } else if (this.projectActive.length > evt.length) {\n    //   let difference: any = this.projectActive.filter(x => !evt.includes(x));\n    //   console.log(difference);\n\n    //   this.projectActive = this.projectActive.filter(item => !difference.includes(item))\n    //   difference = difference[0];\n    //   await this._legalizacionService.updateProject(difference.PRY_ID, difference.PRY_Nombre, 2).toPromise();\n    // }\n    // console.log(this.projectActive);\n\n    // AppComponent.displayLoading = false;\n\n  }\n\n}\n","<app-layout>\n    <section class=\"content-panel\">\n        <mat-form-field appearance=\"standard\" class=\"input-filter\">\n            <mat-label>Filtro</mat-label>\n            <input matInput [(ngModel)]=\"searchText\" placeholder=\"Escribe una palabra\"\n                (ngModelChange)=\"onFilter($event)\" #input>\n        </mat-form-field>\n        <mat-card>\n            <h1>Proyectos</h1>\n            <h5>Total: {{total}} Activos: {{totalActive}}</h5>\n            <div>\n                <mat-selection-list #shoes [(ngModel)]=\"selectedOptions\">\n                    <mat-list-option *ngFor=\"let project of projectList\" checkboxPosition=\"before\" [value]=\"project\"\n                        (click)=\"onNgModelChange(project)\">\n                        {{project.PRY_Nombre}}\n                    </mat-list-option>\n                </mat-selection-list>\n            </div>\n        </mat-card>\n        <!-- <div class=\"save-content\">\n            <button mat-fab color=\"primary\" aria-label=\"Example icon button with a delete icon\">\n                <mat-icon>save</mat-icon>\n            </button>\n        </div> -->\n    </section>\n\n</app-layout>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ProjectSettingsComponent } from './project-settings.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProjectSettingsComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProjectSettingsRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { ProjectSettingsRoutingModule } from './project-settings-routing.module';\nimport { ProjectSettingsComponent } from './project-settings.component';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatListModule } from '@angular/material/list';\nimport {  FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { LegalizacionService } from 'src/app/services/legalizacion.service';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatInputModule } from '@angular/material/input';\nimport { PipeModule } from 'src/app/pipes/pipes.module';\nimport { HttpClientModule } from '@angular/common/http';\n\n\n@NgModule({\n  declarations: [\n    ProjectSettingsComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatInputModule,\n    ProjectSettingsRoutingModule,\n    SharedModule,\n    MatCardModule,\n    MatListModule,\n    MatIconModule,\n    MatButtonModule,\n    PipeModule,\n    HttpClientModule\n  ],\n  providers:[\n    LegalizacionService\n  ]\n})\nexport class ProjectSettingsModule { }\n"],"sourceRoot":"webpack:///"}