(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{rqBn:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var o=n("fXoL"),i=n("0MNC"),a=n("tyNb"),c=n("/t3+"),l=n("bTqV"),s=n("NFeN"),r=n("XhcP"),b=n("ofXK"),d=n("CsTR");const g=["sidenav"];function p(t,e){if(1&t){const t=o.Wb();o.Vb(0,"ng-material-multilevel-menu",12),o.cc("selectedItem",function(e){return o.yc(t),o.gc().selectedItem(e)}),o.Ub()}if(2&t){const t=o.gc();o.mc("configuration",t.config)("items",t.appitems)}}const u=["*"];let m=(()=>{class t{constructor(t,e,n){this.router=n,this.config={paddingAtStart:!0,fontColor:"white",selectedListFontColor:"white"},this.appitems=[],this.role="NoAutorizado",this.role=localStorage.getItem("role"),console.log("this.role",this.role),this.appitems=[],this.appitems=[{label:"Herramientas",items:[{label:"Entregas",link:"/tablas/entregas"},{label:"Escrituracion",link:"/tablas/escrituracion"},{label:"Legalizaci\xf3n",link:"/tablas/legalizacion"},{label:"Renovaci\xf3n",link:"/tablas/renovaciones"},{label:"Seguimiento de subsidio",link:"/tablas/segumientos-subsidio"},{label:"Promesas",link:"/tablas/promesas"},{label:"Desembolso",link:"/tablas/desembolsos"},{label:"Ordenes",link:"/tablas/ordenes"},{label:"Subsidio",link:"/tablas/subsidios"},{label:"Recaudos",link:"/tablas/recaudos"},{label:"Trazabilidad",link:"/tablas/trazabilidad"}]},{label:"Reportes",items:[{label:"Escrituraci\xf3n y Entregas",link:"/reporte/5"},{label:"Ordenes",link:"/reporte/4"},{label:"Promesas",link:"/reporte/7"},{label:"Recaudo",link:"/reporte/6"},{label:"Renovaci\xf3n y subsidio",link:"/reporte/1"},{label:"Trazabilidad",link:"/reporte/2"}]}],"Administrador"==this.role&&this.appitems.push({label:"Configuracion",items:[{label:"Seleccion Proyectos",link:"/configuracion-proyectos"},{label:"Roles de Usuario",link:"/configuracion-roles"},{label:"Carga Datos",link:"/carga-informacion"},{label:"Auditoria",link:"/auditoria"}]}),this.mobileQuery=e.matchMedia("(max-width: 1024px)"),this.mobileQueryListener=()=>t.detectChanges(),this.mobileQuery.addListener(this.mobileQueryListener)}ngafterviewinit(){this.sidenav.close()}toggleAction(){this.sidenav.opened?this.sidenav.close():this.sidenav.open()}logout(){localStorage.removeItem("token"),this.router.navigate(["login"])}ngOnDestroy(){this.mobileQuery.removeListener(this.mobileQueryListener),this.sidenav.close()}selectedItem(t){}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.h),o.Pb(i.c),o.Pb(a.c))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-layout"]],viewQuery:function(t,e){if(1&t&&o.Oc(g,1),2&t){let t;o.vc(t=o.dc())&&(e.sidenav=t.first)}},ngContentSelectors:u,decls:24,vars:4,consts:[["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],[1,"example-spacer"],[1,"btns-panel"],["mat-icon-button","","aria-label","Example icon-button with heart icon",1,"example-icon","favorite-icon",3,"click"],[1,"layout"],["mode","side",1,"layout-sidebar",3,"opened","mode","fixedInViewport","openedChange"],["sidenav",""],[1,"avatar-panel"],["src","./assets/img/login.png","tabindex","0",1,"avatar"],["color","white"],[3,"configuration","items","selectedItem",4,"ngIf"],[1,"layout-content"],[3,"configuration","items","selectedItem"]],template:function(t,e){1&t&&(o.lc(),o.Vb(0,"mat-toolbar"),o.Vb(1,"button",0),o.cc("click",function(){return e.toggleAction()}),o.Vb(2,"mat-icon"),o.Jc(3,"menu"),o.Ub(),o.Ub(),o.Vb(4,"span"),o.Jc(5,"MacrosWeb"),o.Ub(),o.Qb(6,"span",1),o.Vb(7,"div",2),o.Vb(8,"button",3),o.cc("click",function(){return e.logout()}),o.Vb(9,"mat-icon"),o.Jc(10,"logout"),o.Ub(),o.Jc(11," Salir "),o.Ub(),o.Ub(),o.Ub(),o.Vb(12,"mat-sidenav-container",4),o.Vb(13,"mat-sidenav",5,6),o.cc("openedChange",function(t){return e.isShowSidebar=t}),o.Vb(15,"div"),o.Vb(16,"div",7),o.Qb(17,"img",8),o.Vb(18,"h4"),o.Jc(19,"Bienvenido!"),o.Ub(),o.Ub(),o.Qb(20,"hr",9),o.Hc(21,p,1,2,"ng-material-multilevel-menu",10),o.Ub(),o.Ub(),o.Vb(22,"mat-sidenav-content",11),o.kc(23),o.Ub(),o.Ub()),2&t&&(o.Db(13),o.mc("opened",e.isShowSidebar)("mode",e.mobileQuery.matches?"over":"side")("fixedInViewport",e.mobileQuery.matches),o.Db(8),o.mc("ngIf","NoAutorizado"!=e.role))},directives:[c.a,l.a,s.a,r.b,r.a,b.o,r.c,d.b],styles:[".layout[_ngcontent-%COMP%]{width:100%}.layout-sidebar[_ngcontent-%COMP%]{height:calc(100vh - 64px);background:#048c44;color:#fff;width:20em}.layout-sidebar[_ngcontent-%COMP%]   .avatar-panel[_ngcontent-%COMP%]{text-align:center}.layout-sidebar[_ngcontent-%COMP%]   .avatar-panel[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.layout-sidebar[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{color:#fff}@media (max-width:576px){.layout-sidebar[_ngcontent-%COMP%]{width:218px}}.layout-content[_ngcontent-%COMP%]{background-color:#f6f7ff;height:calc(100vh - 64px)}@media (max-width:576px){.layout-content[_ngcontent-%COMP%]{width:100%}}mat-toolbar[_ngcontent-%COMP%]{background:#048c44;color:#fff}mat-toolbar[_ngcontent-%COMP%]   .btns-panel[_ngcontent-%COMP%]{padding:0 2em}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.NavLink[_ngcontent-%COMP%]{text-decoration:none;color:#fff!important}@media (max-width:1024px){mat-sidenav[_ngcontent-%COMP%]{height:100%!important}}"]}),t})()},vPOg:function(t,e,n){"use strict";n.r(e),n.d(e,"ProjectSettingsModule",function(){return y});var o=n("ofXK"),i=n("PCNd"),a=n("tyNb"),c=n("mrSG"),l=n("Sy1n"),s=n("fXoL"),r=n("7KSe"),b=n("rqBn"),d=n("kmnG"),g=n("qFsG"),p=n("3Pt+"),u=n("Wp6s"),m=n("MutI");function h(t,e){if(1&t){const t=s.Wb();s.Vb(0,"mat-list-option",7),s.cc("click",function(){s.yc(t);const n=e.$implicit;return s.gc().onNgModelChange(n)}),s.Jc(1),s.Ub()}if(2&t){const t=e.$implicit;s.mc("value",t),s.Db(1),s.Lc(" ",t.PRY_Nombre," ")}}const f=[{path:"",component:(()=>{class t{constructor(t){this._legalizacionService=t,this.projectList=[],this.originalProjectList=[],this.total=0,this.totalActive=0,this.projectActive=[]}ngOnInit(){l.a.displayLoading=!0,this._legalizacionService.getProjectSettings().subscribe(t=>{console.log(t),this.projectList=t.data,this.originalProjectList=t.data,this.total=this.projectList.length;for(let e=0;e<this.projectList.length;e++){const t=this.projectList[e];t.STATUS&&this.projectActive.push(t)}this.totalActive=this.projectActive.length,this.selectedOptions=this.projectActive,l.a.displayLoading=!1},t=>{console.log(t),l.a.displayLoading=!1})}onFilter(t){this.projectActive=[],console.log("evt",t),this.projectList=this.originalProjectList.filter(e=>String(e.PRY_Nombre).toLowerCase().includes(String(t).toLowerCase()));for(let e=0;e<this.projectList.length;e++){const t=this.projectList[e];t.STATUS&&this.projectActive.push(t)}console.log("this.projectActive",this.projectActive),this.selectedOptions=this.projectActive}onNgModelChange(t){return Object(c.a)(this,void 0,void 0,function*(){l.a.displayLoading=!0,t.STATUS=!t.STATUS,console.log("onNgModelChange2",t),yield this._legalizacionService.updateProject(t.PRY_ID,t.PRY_Nombre,t.STATUS?1:2).toPromise(),l.a.displayLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(r.a))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-project-settings"]],decls:16,vars:5,consts:[[1,"content-panel"],["appearance","standard",1,"input-filter"],["matInput","","placeholder","Escribe una palabra",3,"ngModel","ngModelChange"],["input",""],[3,"ngModel","ngModelChange"],["shoes",""],["checkboxPosition","before",3,"value","click",4,"ngFor","ngForOf"],["checkboxPosition","before",3,"value","click"]],template:function(t,e){1&t&&(s.Vb(0,"app-layout"),s.Vb(1,"section",0),s.Vb(2,"mat-form-field",1),s.Vb(3,"mat-label"),s.Jc(4,"Filtro"),s.Ub(),s.Vb(5,"input",2,3),s.cc("ngModelChange",function(t){return e.searchText=t})("ngModelChange",function(t){return e.onFilter(t)}),s.Ub(),s.Ub(),s.Vb(7,"mat-card"),s.Vb(8,"h1"),s.Jc(9,"Proyectos"),s.Ub(),s.Vb(10,"h5"),s.Jc(11),s.Ub(),s.Vb(12,"div"),s.Vb(13,"mat-selection-list",4,5),s.cc("ngModelChange",function(t){return e.selectedOptions=t}),s.Hc(15,h,2,2,"mat-list-option",6),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.Db(5),s.mc("ngModel",e.searchText),s.Db(6),s.Mc("Total: ",e.total," Activos: ",e.totalActive,""),s.Db(2),s.mc("ngModel",e.selectedOptions),s.Db(2),s.mc("ngForOf",e.projectList))},directives:[b.a,d.c,d.g,g.b,p.c,p.o,p.r,u.a,m.f,o.n,m.e],styles:[".content-panel[_ngcontent-%COMP%]{padding:2em;height:100%}.content-panel[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{height:auto;margin-bottom:6em}.content-panel[_ngcontent-%COMP%]   .save-content[_ngcontent-%COMP%]{position:fixed;z-index:99;bottom:2em;right:2em}.content-panel[_ngcontent-%COMP%]   .save-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fee350}.content-panel[_ngcontent-%COMP%]   .save-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#048c44}.content-panel[_ngcontent-%COMP%]   .input-filter[_ngcontent-%COMP%]{width:100%}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({imports:[[a.e.forChild(f)],a.e]}),t})();var P=n("NFeN"),C=n("bTqV"),M=n("iTUp"),O=n("tk/3");let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({providers:[r.a],imports:[[o.c,p.j,p.t,g.c,v,i.a,u.b,m.d,P.b,C.b,M.a,O.c]]}),t})()}}]);